(()=>{"use strict";let{PluginBaseClass:e}=window;window.PluginManager.register("MagediaVariantPreview",class extends e{init(){this.initImageUpdate(),this.initThumbnailsScroll()}initImageUpdate(){var e,t;let r=(e=this.el.closest(".card-body"))===null||void 0===e?void 0:e.querySelector(".product-image-wrapper .ninja-hover-cover-none"),i=(t=this.el.closest(".card-body"))===null||void 0===t?void 0:t.querySelector(".product-image-wrapper .product-image.is-standard"),l=this.el.querySelectorAll(".product-variants .variant-link");i&&0!==l.length&&(i.hasAttribute("data-original")||i.setAttribute("data-original",i.src),l.forEach(e=>{e.addEventListener("mouseover",()=>{let t=e.getAttribute("data-image");t&&(r?r.style.setProperty("--ninja-cover","url('"+t+"')"):i.srcset=t)}),e.addEventListener("mouseout",()=>{let e=i.getAttribute("data-original");e&&(r?r.style.setProperty("--ninja-cover","url('"+e+"')"):i.srcset=e)})}))}initThumbnailsScroll(){var e;let t=this.el.querySelector(".product-variants"),r=this.el.querySelector(".variant-arrow.left"),i=this.el.querySelector(".variant-arrow.right"),l=(e=t.querySelectorAll(".variant-link")[0])===null||void 0===e?void 0:e.offsetWidth;if(!t||!r||!i||!l)return;let a=t.clientWidth,o=()=>{let e=t.scrollLeft;r.style.display=e>0?"block":"none",i.style.display=e<t.scrollWidth-a?"block":"none"};r.addEventListener("click",()=>{t.scrollBy({left:-a,behavior:"smooth"})}),i.addEventListener("click",()=>{t.scrollBy({left:a,behavior:"smooth"})}),t.addEventListener("scroll",o),o()}},"[data-magedia-variant-preview]")})();